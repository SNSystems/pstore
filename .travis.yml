# Auto-generated by ./utils/write_travis_yml.py. DO NOT EDIT!
before_install:
- eval "${MATRIX_EVAL}"
language: cpp
matrix:
    include:
    -   addons:
            apt:
                packages:
                - clang-3.8
                - ninja-build
                - valgrind
                sources:
                - ubuntu-toolchain-r-test
                - llvm-toolchain-precise-3.8
        dist: trusty
        env:
        - MATRIX_EVAL="CC=clang-3.8 && CXX=clang++-3.8"
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: linux
    -   addons:
            apt:
                packages:
                - clang-3.8
                - ninja-build
                - valgrind
                sources:
                - ubuntu-toolchain-r-test
                - llvm-toolchain-precise-3.8
        dist: trusty
        env:
        - MATRIX_EVAL="CC=clang-3.8 && CXX=clang++-3.8"
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: linux
    -   addons:
            apt:
                packages:
                - g++-7
                - ninja-build
                - valgrind
                sources:
                - ubuntu-toolchain-r-test
        dist: trusty
        env:
        - MATRIX_EVAL="CC=gcc-7 && CXX=g++-7"
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: linux
    -   addons:
            apt:
                packages:
                - g++-7
                - ninja-build
                - valgrind
                sources:
                - ubuntu-toolchain-r-test
        dist: trusty
        env:
        - MATRIX_EVAL="CC=gcc-7 && CXX=g++-7"
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: linux
    -   env:
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: osx
        osx_image: xcode9.3
    -   env:
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: osx
        osx_image: xcode9.3
script:
- ./utils/make_build.py -o build -D CMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE} -D PSTORE_EXAMPLES=Yes
    -D PSTORE_VALGRIND=Yes -D PSTORE_ALWAYS_SPANNING=${PSTORE_ALWAYS_SPANNING}
- cmake --build build --config ${CMAKE_BUILD_TYPE}
- cmake --build build --config ${CMAKE_BUILD_TYPE} --target pstore-system-tests
sudo: 'false'

