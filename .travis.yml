# Auto-generated by ./utils/write_travis_yml.py. DO NOT EDIT!
before_install:
- eval "${MATRIX_EVAL}"
jobs:
    include:
    -   addons:
            apt:
                packages:
                - clang-3.8
                - ninja-build
                - valgrind
                sources:
                - ubuntu-toolchain-r-test
        dist: xenial
        env:
        - MATRIX_EVAL="CC=clang-3.8 && CXX=clang++-3.8"
        - PSTORE_VALGRIND=No
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: linux
    -   addons:
            apt:
                packages:
                - clang-3.8
                - ninja-build
                - valgrind
                sources:
                - ubuntu-toolchain-r-test
        dist: xenial
        env:
        - MATRIX_EVAL="CC=clang-3.8 && CXX=clang++-3.8"
        - PSTORE_VALGRIND=No
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: linux
    -   addons:
            apt:
                packages:
                - clang-9
                - ninja-build
                sources:
                - ubuntu-toolchain-r-test
                -   key_url: https://apt.llvm.org/llvm-snapshot.gpg.key
                    sourceline: deb http://apt.llvm.org/xenial/ llvm-toolchain-xenial-9
                        main
        before_script:
        - nvm install node
        dist: xenial
        env:
        - MATRIX_EVAL="CC=clang-9 && CXX=clang++-9"
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: linux
    -   addons:
            apt:
                packages:
                - clang-9
                - ninja-build
                sources:
                - ubuntu-toolchain-r-test
                -   key_url: https://apt.llvm.org/llvm-snapshot.gpg.key
                    sourceline: deb http://apt.llvm.org/xenial/ llvm-toolchain-xenial-9
                        main
        before_script:
        - nvm install node
        dist: xenial
        env:
        - MATRIX_EVAL="CC=clang-9 && CXX=clang++-9"
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: linux
    -   addons:
            apt:
                packages:
                - g++-9
                - ninja-build
                - valgrind
                - node
                - npm
                sources:
                - ubuntu-toolchain-r-test
        dist: trusty
        env:
        - MATRIX_EVAL="CC=gcc-9 && CXX=g++-9"
        - PSTORE_VALGRIND=Yes
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: linux
    -   addons:
            apt:
                packages:
                - g++-9
                - ninja-build
                - valgrind
                - node
                - npm
                sources:
                - ubuntu-toolchain-r-test
        dist: trusty
        env:
        - MATRIX_EVAL="CC=gcc-9 && CXX=g++-9"
        - PSTORE_VALGRIND=Yes
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: linux
    -   addons:
            apt:
                packages:
                - g++-5
                - ninja-build
                - valgrind
                - node
                - npm
                sources:
                - ubuntu-toolchain-r-test
        dist: trusty
        env:
        - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
        - PSTORE_VALGRIND=Yes
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: linux
    -   addons:
            apt:
                packages:
                - g++-5
                - ninja-build
                - valgrind
                - node
                - npm
                sources:
                - ubuntu-toolchain-r-test
        dist: trusty
        env:
        - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
        - PSTORE_VALGRIND=Yes
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: linux
    -   env:
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: osx
        osx_image: xcode9.3
    -   env:
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: osx
        osx_image: xcode9.3
    -   env:
        - CMAKE_BUILD_TYPE=Debug
        - PSTORE_ALWAYS_SPANNING=Yes
        os: windows
    -   env:
        - CMAKE_BUILD_TYPE=Release
        - PSTORE_ALWAYS_SPANNING=No
        os: windows
language: cpp
script:
- ./utils/make_build.py --verbose -o build -D CMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
    -D PSTORE_EXAMPLES=Yes -D PSTORE_VALGRIND=${PSTORE_VALGRIND} -D PSTORE_ALWAYS_SPANNING=${PSTORE_ALWAYS_SPANNING}
- cmake --build build --config ${CMAKE_BUILD_TYPE}
- cmake --build build --config ${CMAKE_BUILD_TYPE} --target pstore-system-tests

